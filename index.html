<html lang="en">

<head>
    <!--<meta name="google-signin-scope" content="profile email">-->
    <!--<meta name="google-signin-client_id" content="375020271679-h4v72l2jsqo7d0hm1gdohofo38pgoitc.apps.googleusercontent.com">-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id"
        content="724867611924-n2ifnooj042ptj867a423698ce9cv724.apps.googleusercontent.com">
</head>

<body>
    <style>
        * {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background: rgb(158, 213, 184);
        }

        .container {
            margin: 10px 10px;

        }

        .form-group {
            margin: 10px;
            padding-left: 10px;
        }

        .signupsec {
            margin-left: 100px;
            border: 3px solid black;
            background: lightpink;
            padding-left: 20px;
        }

        input {
            width: 50%;
            border: solid 1px #eee;
            padding: 15px 10px;
            border-radius: 50px;
        }

        select {
            width: 25%;
            border: solid 1px #eee;
            padding: 15px 10px;
            border-radius: 50px;
        }

        button {
            width: 120px;
            padding: 12px;
            margin-left: 100px;
            background: #fff;
            color: dodgerblue;
            border: solid 1px dodgerblue;
            cursor: pointer;
            transition: all .38s ease-in-out;
            border-radius: 50px;
        }

        button:hover {
            background: dodgerblue;
            color: #fff;
        }

        table tr td {
            border: solid 1px #eee;
            padding: 10px;
        }

        #extra .extra-form {
            margin: 5px;
        }

        #extra {
            display: none;
        }
    </style>

    <div class="container">
        <h2 style="margin-left: 370px; font-family: 'Times New Roman', Times, serif;"><b>CODINGMART TECHNOLOGIES</b>
        </h2>
        <div class="signupsec">
            <h2
                style="font-family: 'Times New Roman', Times, serif; font-size: 30px; margin-left: 370px; margin-top: 40px;">
                <b>SIGNUP FORM</b></h2> <br>
            <form role="form" onsubmit="signUp(event);" style="margin-left: 30%;">
                <div class="form-group">
                    <input type="text" name="name" id="name" placeholder="Name" required>
                </div>
                <div class="form-group">
                    <input type="number" name="age" id="age" placeholder="Age" min="1" max="100" required>
                </div>
                <div class="form-group">
                    <input type="text" name="pn" id="pn" placeholder="Phone Number" pattern="[6789][0-9]{9}"
                        title="Please enter valid phone number" required="">

                </div>
                <div class="form-group">

                    <input type="email" name="email" id="email" placeholder="Email Address" required>
                </div>
                <div class="form-group">

                    <input type="password" name="pwd" id="pwd" placeholder="Password" minlength="8" required>
                </div>
                <br>
                <div class="form-group">
                    <label> <b>Language </b></label>
                    <select id="language">
                        <option value="English">English</option>
                        <option value="Tamil">Tamil</option>
                        <option value="Malayalam">Malayalam</option>
                    </select>
                </div>
                <br>
                <div class="form-group">
                    <button type="submit">Sign Up</button>
                </div>
                <h2 id="or" style="margin-left: 170px; font-size: 20px;"> or</h2>
                <div class="g-signin2" data-onsuccess="onSignIn" style="margin-left: 120px;"></div>
            </form>
        </div>
       <div class="jo" style="margin-left: 10%;">
        <div class="data" style="display: none;">
            <h2 style="margin-top: 30px;">PROFILE</h2>
            <p id="name"></p>
            <p id="propic"><b>Profile Picture</b></p>
            <img id="image" class="rounded-circle" width="100" height="100">
            <p id="email"></p>
        </div>

        <div id="output">
        </div>
        <br>
        <div id="output1">
        </div>
        <br>
        <form id="extra" onsubmit="extrasign(event);">
            <div class="extra-form">
                <input id="age1" type="number" min="1" max="100" placeholder="Enter your age" required>
            </div><br>
            <div class="extra-form">
                <input type="text" name="pn1" id="pn1" placeholder="Enter your Phone Number" pattern="[6789][0-9]{9}"
                    title="Please enter valid phone number" required="">
            </div><br>
            <div class="extra-form">
                <select id="lang1">
                    <option>English</option>
                    <option>Tamil</option>
                    <option>Malayalam</option>
                </select>
            </div>
            <br>
            <button type="submit">Submit</button>
        </form>
        <br> 
        <button id="btnso" type="button" class="btn btn-danger" onclick="signOut()"
            style="visibility:hidden; padding-top: 10px">Sign Out</button> 
    </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <script>
        /* function onSignIn(googleUser) {
           // Useful data for your client-side scripts:
           var profile = googleUser.getBasicProfile();
           console.log("ID: " + profile.getId()); // Don't send this directly to your server!
           console.log('Full Name: ' + profile.getName());
           console.log('Given Name: ' + profile.getGivenName());
           console.log('Family Name: ' + profile.getFamilyName());
           console.log("Image URL: " + profile.getImageUrl());
           console.log("Email: " + profile.getEmail());
   
         }*/
        var x, y;
        function onSignIn(googleUser) {
            var profile = googleUser.getBasicProfile();

            $("#image").attr('src', profile.getImageUrl());
            console.log("Image URL: " + profile.getImageUrl());
            let formData = {
                name: profile.getName(),
                email: profile.getEmail()
            }
            x = profile.getName();
            y = profile.getEmail();
            console.log(x);
            console.log(y);
            localStorage.setItem('formData', JSON.stringify(formData));

            $("#extra").css("display", "block");
            $(".data").css("display", "block");
            $(".g-signin2").css("display", "none");
            $("#or").css("visibility", "hidden");
            $("#btnso").css("visibility", "visible");
            $("#output").css("display", "block");
            dispData1();
            e.preventDefault();

        }

        function signOut() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
                console.log('User signed out.');
                $(".g-signin2").css("display", "block");
                $(".data").css("display", "none");
                $("#or").css("visibility", "visible");
                $("#btnso").css("visibility", "hidden");
                $("#output").css("display", "none");
                $("#output1").css("display", "none");
                $("#extra").css("display", "none");
            });
        }


        const extrasign = e => {
            var vu = document.getElementById("lang1");
            let formData = {
                name: x,
                email: y,
                age: document.getElementById("age1").value,
                pn: document.getElementById("pn1").value,
                lang: vu.options[vu.selectedIndex].value

            }
            localStorage.setItem('formData', JSON.stringify(formData));
            dispData2();
            $("#extra").css("display", "none");
            e.preventDefault();
        }
        const signUp = e => {
            var yu = document.getElementById("language");
            let formData = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                pwd: document.getElementById('pwd').value,
                age: document.getElementById('age').value,
                pn: document.getElementById('pn').value,
                lang: yu.options[yu.selectedIndex].value
            }
            $("#output").css("display", "block");
            $(".data").css("display", "block");
            $("#image").css("display", "none");
            $("#propic").css("display", "none");
            $("#btnso").css("visibility", "visible");
            localStorage.setItem('formData', JSON.stringify(formData));
            dispData();
            e.preventDefault();
        }
        function dispData1() {
            //console.log(JSON.parse(localStorage.getItem('formData')));
            let { name, email } = JSON.parse(localStorage.getItem('formData'));
            var output = document.getElementById("output");

            output.innerHTML = `
                            <table style="background:white">
                                <tbody>
                                <tr>
                                <td>Name</td>
                                <td>${name}</td>
                                </tr>
                                <tr>
                                <td>E-mail</td>
                                <td>${email}</td>
                                </tr>
                                <tr>
                                </tbody>
                            </table>

                    `;
        }
        function dispData() {
            //console.log(JSON.parse(localStorage.getItem('formData')));
            let { name, email, age, pn, lang } = JSON.parse(localStorage.getItem('formData'));
            var output = document.getElementById("output");
            output.innerHTML = `
                            <table style="background:white">
                                <tbody>
                                <tr>
                                <td>Name</td>
                                <td>${name}</td>
                                </tr>
                                <tr>
                                <td>E-mail</td>
                                <td>${email}</td>
                                </tr>
                                <tr>
                                <td>Age</td>
                                <td>${age}</td>
                                </tr>
                                <tr>
                                <td>Phone Number</td>
                                <td>${pn}</td>
                                </tr>
                                <tr>
                                <td>Language</td>
                                <td>${lang}</td>
                                </tr>
                                </tbody>
                            </table>
                    `;
        }
        function dispData2() {

            let { name, email, age, pn, lang } = JSON.parse(localStorage.getItem('formData'));
            var output = document.getElementById("output1");
            $("#output").css("display", "none");
            output.innerHTML = `
                            <table style="background:white">
                                <tbody>
                                <tr>
                                <td>Name</td>
                                <td>${name}</td>
                                </tr>
                                <tr>
                                <td>E-mail</td>
                                <td>${email}</td>
                                </tr>
                                <tr>
                                <td>Age</td>
                                <td>${age}</td>
                                </tr>
                                <tr>
                                <td>Phone Number</td>
                                <td>${pn}</td>
                                </tr>
                                <tr>
                                <td>Language</td>
                                <td>${lang}</td>
                                </tr>
                               
                                </tbody>
                            </table>

                    `;
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</body>

</html>
